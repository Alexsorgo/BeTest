import time

import bert

from erlastic import Atom


def search_by_phone():
    module = Atom('Search')
    user_id = 209                     # id     = [] :: [] | integer(),
    ref = 'phone'                       # ref    = [] :: [] | binary(),
    field = 'phone'                     # field  = [] :: [] | binary(),
    type_r = Atom('==')                 # type   = [] :: [] | '==' | '!=' | 'like',
    value = ['85269911852']                      # value  = [] :: [] | term(),
    status = Atom('contact')            # status = [] :: [] | profile | roster | contact | member | room

    # s = {"Status":"Success","Data":[{"phone":380601111111,"created":"2018-09-28T09:14:38"},{"phone":359999572343,"created":"2018-07-13T13:21:12"},{"phone":380667330109,"created":"2018-02-14T12:17:20"},{"phone":380666048092,"created":"2018-01-29T18:06:32"},{"phone":359888587016,"created":"2018-08-03T11:54:15"},{"phone":380978709496,"created":"2018-02-15T13:31:22"},{"phone":16507221511,"created":"2018-04-10T18:50:13"},{"phone":359896876126,"created":"2018-07-03T12:30:06"},{"phone":380994382798,"created":"2018-01-29T18:06:32"},{"phone":380958036243,"created":"2018-02-02T11:37:50"},{"phone":380123456789,"created":"2018-01-29T18:06:32"},{"phone":12067942787,"created":"2018-03-16T23:16:18"},{"phone":14152697938,"created":"2018-05-07T19:48:02"},{"phone":18187959009,"created":"2018-08-03T15:18:42"},{"phone":380956252487,"created":"2018-02-01T17:36:48"},{"phone":17327683189,"created":"2018-04-25T03:26:07"},{"phone":359888447572,"created":"2018-05-21T17:44:23"},{"phone":380993333333,"created":"2018-07-25T08:26:42"},{"phone":380937181958,"created":"2018-01-29T18:06:32"},{"phone":51926685899,"created":"2018-03-06T23:46:49"},{"phone":380993661647,"created":"2018-01-29T18:06:32"},{"phone":77,"created":"2018-08-03T14:00:52"},{"phone":359999368616,"created":"2018-07-17T12:00:05"},{"phone":380669546169,"created":"2018-06-15T16:32:08"},{"phone":85251001921,"created":"2018-03-20T03:35:18"},{"phone":380665072247,"created":"2018-06-18T10:35:54"},{"phone":380934457979,"created":"2018-01-29T18:06:32"},{"phone":380934060697,"created":"2018-09-24T14:37:37"},{"phone":359999123456,"created":"2018-06-29T12:54:16"},{"phone":380936777573,"created":"2018-03-07T14:59:32"},{"phone":14246258666,"created":"2018-03-19T13:13:47"},{"phone":380952352826,"created":"2018-01-29T18:06:32"},{"phone":380632889890,"created":"2018-01-29T18:06:32"},{"phone":85269911852,"created":"2018-01-29T18:06:32"},{"phone":380634118196,"created":"2018-04-16T15:31:07"},{"phone":18185549236,"created":"2018-03-18T19:20:45"},{"phone":85256345078,"created":"2018-01-29T18:06:32"},{"phone":359879809191,"created":"2018-04-18T07:39:26"},{"phone":14379283228,"created":"2018-05-15T20:53:55"},{"phone":12016005335,"created":"2018-01-29T18:06:32"},{"phone":380956321486,"created":"2018-02-01T17:36:48"},{"phone":15418649392,"created":"2018-06-02T19:35:22"},{"phone":380935248470,"created":"2018-04-04T09:03:35"},{"phone":19173099917,"created":"2018-01-29T18:06:32"},{"phone":380631903299,"created":"2018-03-26T10:37:24"},{"phone":19176816110,"created":"2018-03-16T23:16:18"},{"phone":359666666666,"created":"2018-07-03T12:25:45"},{"phone":359999828282,"created":"2018-09-13T12:45:53"},{"phone":35699900090,"created":"2018-06-15T22:24:41"},{"phone":380631513245,"created":"2018-09-26T13:28:14"},{"phone":380993818064,"created":"2018-01-29T18:06:32"},{"phone":380688888180,"created":"2018-05-29T10:04:48"},{"phone":380957996909,"created":"2018-03-26T09:24:54"},{"phone":380638095169,"created":"2018-01-29T18:06:32"},{"phone":380669170388,"created":"2018-01-29T18:06:32"},{"phone":359999030303,"created":"2018-08-31T14:19:14"},{"phone":359999131313,"created":"2018-07-04T10:16:47"},{"phone":380992659729,"created":"2018-04-10T13:41:32"},{"phone":359896504711,"created":"2018-10-01T08:56:24"},{"phone":380636970920,"created":"2018-04-05T06:34:24"},{"phone":79043335997,"created":"2018-01-29T18:06:32"},{"phone":19734050351,"created":"2018-03-16T23:16:18"},{"phone":380973193434,"created":"2018-01-31T08:53:46"},{"phone":380994382789,"created":"2018-09-18T15:47:43"},{"phone":971506240390,"created":"2018-06-04T05:14:33"},{"phone":359898773312,"created":"2018-04-11T20:52:41"},{"phone":8613560717250,"created":"2018-01-29T18:06:32"},{"phone":10000000000,"created":"2018-08-21T10:29:55"},{"phone":380979709496,"created":"2018-03-22T10:40:29"},{"phone":15419442066,"created":"2018-04-25T03:00:07"},{"phone":359999222222,"created":"2018-07-09T14:36:01"},{"phone":14153593119,"created":"2018-01-29T18:06:32"},{"phone":380632245152,"created":"2018-09-26T11:53:47"},{"phone":333,"created":"2018-08-03T14:00:52"},{"phone":18182710220,"created":"2018-08-21T20:30:55"},{"phone":85252238165,"created":"2018-01-29T18:06:32"},{"phone":359999413139,"created":"2018-08-01T10:11:35"},{"phone":380681111111,"created":"2018-07-25T07:35:51"},{"phone":380937042510,"created":"2018-01-29T18:06:32"},{"phone":380972671298,"created":"2018-09-27T07:52:23"},{"phone":380664839102,"created":"2018-01-29T18:06:32"},{"phone":359884979188,"created":"2018-06-28T13:28:27"},{"phone":359898793403,"created":"2018-06-28T13:28:50"},{"phone":17327736293,"created":"2018-02-05T11:54:52"},{"phone":359892226237,"created":"2018-04-11T20:52:24"},{"phone":380934931618,"created":"2018-01-29T18:06:32"},{"phone":14246258667,"created":"2018-04-29T00:59:41"},{"phone":380631514281,"created":"2018-09-27T07:37:56"},{"phone":380730902098,"created":"2018-01-29T18:06:32"},{"phone":85260912280,"created":"2018-04-30T01:56:06"},{"phone":16504304498,"created":"2018-02-13T13:53:39"},{"phone":380978448397,"created":"2018-02-01T17:36:48"},{"phone":380953214512,"created":"2018-09-26T17:37:45"},{"phone":359777777777,"created":"2018-07-03T12:14:14"},{"phone":380999576588,"created":"2018-05-29T10:05:05"},{"phone":359999141414,"created":"2018-07-04T12:50:09"},{"phone":380500216233,"created":"2018-01-29T18:06:32"},{"phone":51933195324,"created":"2018-02-05T07:55:25"},{"phone":46765355550,"created":"2018-06-25T06:43:29"},{"phone":773,"created":"2018-08-05T09:34:41"},{"phone":380976287049,"created":"2018-01-29T18:06:32"},{"phone":359456123789,"created":"2018-07-31T10:12:44"},{"phone":380631518222,"created":"2018-09-27T07:39:38"},{"phone":380632778105,"created":"2018-09-13T11:37:09"},{"phone":380954218821,"created":"2018-09-27T07:50:28"},{"phone":380505172490,"created":"2018-01-29T18:06:32"},{"phone":16504959343,"created":"2018-06-02T02:02:36"},{"phone":359897839183,"created":"2018-04-11T20:53:22"},{"phone":40736693249,"created":"2018-01-29T18:06:32"},{"phone":85290133856,"created":"2018-04-09T17:45:28"},{"phone":359884872365,"created":"2018-04-05T17:19:19"},{"phone":359895413139,"created":"2018-05-25T05:53:00"},{"phone":380686115576,"created":"2018-01-29T18:06:32"},{"phone":380952519231,"created":"2018-01-29T18:06:32"},{"phone":8615011970713,"created":"2018-03-18T15:18:35"},{"phone":8613701118093,"created":"2018-05-26T19:36:14"},{"phone":380993351739,"created":"2018-01-29T18:06:32"},{"phone":380669546094,"created":"2018-06-28T15:07:20"},{"phone":35988878787,"created":"2018-08-07T09:18:58"},{"phone":46703031961,"created":"2018-06-25T06:43:29"},{"phone":380956252431,"created":"2018-02-13T14:47:04"},{"phone":5333,"created":"2018-08-05T09:34:41"},{"phone":380501014766,"created":"2018-07-20T12:18:22"},{"phone":359878893534,"created":"2018-07-04T14:00:50"},{"phone":380676631870,"created":"2018-01-29T18:06:32"},{"phone":85268001409,"created":"2018-04-18T12:09:05"},{"phone":19173998671,"created":"2018-06-04T21:39:24"},{"phone":380956480785,"created":"2018-01-29T18:06:32"},{"phone":380634307716,"created":"2018-09-13T11:37:02"},{"phone":359999151515,"created":"2018-07-26T07:45:23"},{"phone":380632965953,"created":"2018-09-10T11:44:08"},{"phone":51937489512,"created":"2018-01-29T18:06:32"},{"phone":359999010101,"created":"2018-08-31T14:04:35"},{"phone":85264675060,"created":"2018-06-16T23:14:11"},{"phone":380503047445,"created":"2018-07-03T13:22:49"},{"phone":380636141891,"created":"2018-08-07T10:49:31"},{"phone":85267611805,"created":"2018-02-05T07:55:25"},{"phone":359999020202,"created":"2018-08-31T14:18:11"},{"phone":380681111117,"created":"2018-07-27T12:17:56"},{"phone":35958748484,"created":"2018-08-02T17:02:39"},{"phone":380976782222,"created":"2018-01-29T18:06:32"},{"phone":380681111110,"created":"2018-07-27T12:19:47"},{"phone":380669546160,"created":"2018-07-05T13:19:53"},{"phone":380992070985,"created":"2018-01-29T18:06:32"},{"phone":380939733040,"created":"2018-01-29T18:06:32"},{"phone":821062096543,"created":"2018-06-04T06:33:34"},{"phone":19414870590,"created":"2018-06-17T19:46:56"},{"phone":821076467010,"created":"2018-06-08T06:22:35"},{"phone":85262813998,"created":"2018-04-17T17:05:06"},{"phone":380937518877,"created":"2018-06-26T09:47:44"},{"phone":380973251421,"created":"2018-09-24T12:39:08"},{"phone":380957356528,"created":"2018-09-28T10:40:47"},{"phone":16786894757,"created":"2018-01-29T18:06:32"},{"phone":380950574999,"created":"2018-01-29T18:06:32"},{"phone":61457719147,"created":"2018-05-08T05:16:29"},{"phone":380977917979,"created":"2018-01-29T18:06:32"},{"phone":359899041649,"created":"2018-04-18T07:38:48"},{"phone":359999161616,"created":"2018-07-27T09:54:46"},{"phone":380933323498,"created":"2018-01-29T18:06:32"},{"phone":380502041006,"created":"2018-02-02T11:37:50"},{"phone":380956321416,"created":"2018-03-13T17:14:03"},{"phone":380992015053,"created":"2018-03-13T13:13:30"},{"phone":380988911735,"created":"2018-03-14T08:48:10"},{"phone":3800631903299,"created":"2018-08-06T14:00:34"},{"phone":380632511214,"created":"2018-09-24T12:42:28"},{"phone":38012312312,"created":"2018-01-29T18:06:32"},{"phone":821035430933,"created":"2018-06-06T05:26:41"},{"phone":380984990343,"created":"2018-03-22T18:50:49"},{"phone":380958291754,"created":"2018-09-24T14:37:03"},{"phone":380636442732,"created":"2018-04-03T10:51:48"},{"phone":359999181818,"created":"2018-08-07T15:09:13"},{"phone":35959595,"created":"2018-08-03T06:52:50"},{"phone":9999999999,"created":"2018-08-21T10:29:03"},{"phone":8618611431890,"created":"2018-06-11T05:03:48"},{"phone":85291666986,"created":"2018-03-18T20:09:41"},{"phone":395333333333,"created":"2018-07-31T10:04:49"},{"phone":18572728787,"created":"2018-01-29T18:06:32"},{"phone":380952474687,"created":"2018-01-29T18:06:32"},{"phone":380505977206,"created":"2018-05-29T14:18:56"},{"phone":380638536733,"created":"2018-03-23T12:49:51"},{"phone":380669546149,"created":"2018-06-18T10:49:27"},{"phone":16507400363,"created":"2018-03-02T23:02:16"},{"phone":359888170215,"created":"2018-08-03T12:03:10"},{"phone":359888035686,"created":"2018-09-28T08:30:25"},{"phone":380950271101,"created":"2018-01-29T18:06:32"},{"phone":8201053898566,"created":"2018-03-28T09:14:17"},{"phone":380979817626,"created":"2018-01-29T18:06:32"},{"phone":380509817360,"created":"2018-01-29T18:06:32"},{"phone":380681111118,"created":"2018-07-27T12:18:21"},{"phone":380505038062,"created":"2018-06-22T09:22:56"},{"phone":359999121212,"created":"2018-07-04T10:15:24"},{"phone":359999902426,"created":"2018-08-15T09:29:03"},{"phone":380639995672,"created":"2018-09-27T07:53:48"},{"phone":380681111116,"created":"2018-07-27T12:17:45"},{"phone":14085073505,"created":"2018-06-16T05:05:30"},{"phone":380996368829,"created":"2018-03-23T10:30:11"},{"phone":85268555112,"created":"2018-01-29T18:06:32"},{"phone":359888787787,"created":"2018-08-03T06:52:22"},{"phone":46704388071,"created":"2018-06-25T06:43:29"},{"phone":359888121212,"created":"2018-07-03T08:19:32"},{"phone":85267122863,"created":"2018-06-12T06:08:13"},{"phone":380572625861,"created":"2018-09-18T15:49:20"},{"phone":380666390279,"created":"2018-05-02T14:57:49"},{"phone":22,"created":"2018-08-03T14:01:12"},{"phone":359888546217,"created":"2018-04-18T07:38:36"},{"phone":359897572343,"created":"2018-04-11T20:52:06"},{"phone":85251970027,"created":"2018-04-13T14:40:48"},{"phone":85255394241,"created":"2018-01-29T18:06:32"},{"phone":27818716522,"created":"2018-05-20T18:55:54"},{"phone":380681111114,"created":"2018-07-26T16:32:08"},{"phone":85294215999,"created":"2018-04-17T16:55:51"},{"phone":19082093685,"created":"2018-01-29T18:06:32"},{"phone":12019659334,"created":"2018-06-23T13:24:53"},{"phone":380509826102,"created":"2018-04-26T13:07:00"},{"phone":380509826188,"created":"2018-01-29T18:06:32"},{"phone":380672222222,"created":"2018-07-25T08:20:48"},{"phone":380936120831,"created":"2018-03-20T10:33:47"},{"phone":41798186610,"created":"2018-06-04T21:39:53"},{"phone":359999040404,"created":"2018-08-31T14:20:41"},{"phone":821083902125,"created":"2018-06-12T06:13:11"},{"phone":380988281032,"created":"2018-02-15T13:43:35"},{"phone":359988368616,"created":"2018-07-16T13:30:08"},{"phone":377,"created":"2018-08-05T09:34:41"},{"phone":380503333333,"created":"2018-07-26T08:25:32"},{"phone":15106898642,"created":"2018-06-20T11:43:22"},{"phone":359882755450,"created":"2018-06-28T13:29:23"},{"phone":3598882121212,"created":"2018-08-02T11:53:29"},{"phone":359894055427,"created":"2018-04-05T17:18:58"},{"phone":380661284651,"created":"2018-08-09T10:07:05"},{"phone":16504965717,"created":"2018-06-16T05:05:14"},{"phone":380681111113,"created":"2018-07-26T14:22:10"},{"phone":380630179274,"created":"2018-09-13T11:36:55"},{"phone":12019983000,"created":"2018-05-04T18:40:05"},{"phone":359333333333,"created":"2018-07-31T14:22:13"},{"phone":14155193061,"created":"2018-03-16T22:01:00"},{"phone":85293533833,"created":"2018-05-02T06:11:45"},{"phone":359878798798,"created":"2018-08-07T09:14:41"},{"phone":380681111112,"created":"2018-07-26T14:13:42"},{"phone":380634119045,"created":"2018-07-20T12:02:17"},{"phone":355646546545,"created":"2018-08-02T15:08:16"},{"phone":34664007528,"created":"2018-01-29T18:06:32"},{"phone":380681111119,"created":"2018-07-27T12:19:40"},{"phone":821088085725,"created":"2018-06-12T06:02:07"},{"phone":15515746776,"created":"2018-03-16T23:16:18"},{"phone":8613823164100,"created":"2018-01-29T18:06:32"},{"phone":380501213421,"created":"2018-09-27T07:34:18"},{"phone":359999363636,"created":"2018-09-10T13:08:29"},{"phone":380970503724,"created":"2018-04-02T09:50:30"},{"phone":359889024601,"created":"2018-04-11T20:53:07"},{"phone":380639836298,"created":"2018-01-29T18:06:32"},{"phone":979797,"created":"2018-08-03T14:01:10"},{"phone":359888751158,"created":"2018-03-22T23:55:36"},{"phone":380958291752,"created":"2018-01-29T18:06:32"},{"phone":51933195691,"created":"2018-01-29T18:06:32"},{"phone":817014901978,"created":"2018-05-08T05:16:07"},{"phone":359999171717,"created":"2018-08-01T16:09:57"},{"phone":380956992911,"created":"2018-01-29T18:06:32"},{"phone":14155163650,"created":"2018-05-07T19:08:07"},{"phone":380503026662,"created":"2018-01-29T18:06:32"},{"phone":380956119471,"created":"2018-01-31T10:20:02"},{"phone":380950833410,"created":"2018-01-29T18:06:32"},{"phone":359888131313,"created":"2018-07-03T09:44:26"},{"phone":359999202020,"created":"2018-08-09T06:14:21"},{"phone":380500869790,"created":"2018-01-29T18:06:32"},{"phone":13128880541,"created":"2018-06-04T02:10:23"},{"phone":380998681837,"created":"2018-08-13T09:57:37"},{"phone":3800976287049,"created":"2018-01-29T18:06:32"},{"phone":821089900962,"created":"2018-06-06T05:27:03"},{"phone":380990157161,"created":"2018-03-20T11:16:13"},{"phone":359999546217,"created":"2018-07-16T08:46:08"},{"phone":380667578356,"created":"2018-01-29T18:06:32"},{"phone":380681111115,"created":"2018-07-27T09:33:37"},{"phone":380668333883,"created":"2018-07-04T07:47:36"},{"phone":380956321734,"created":"2018-01-29T18:06:32"},{"phone":380958752515,"created":"2018-03-26T10:17:49"},{"phone":85262222633,"created":"2018-04-17T17:03:55"},{"phone":359999111111,"created":"2018-07-09T14:35:45"},{"phone":48737350896,"created":"2018-03-06T20:31:05"},{"phone":8613811930300,"created":"2018-05-26T19:36:29"},{"phone":17144588763,"created":"2018-01-29T18:06:32"},{"phone":8618588422830,"created":"2018-01-29T18:06:32"},{"phone":359887315612,"created":"2018-04-18T07:39:10"},{"phone":3809542188216,"created":"2018-09-27T07:49:49"},{"phone":380730525098,"created":"2018-02-02T12:11:45"},{"phone":380984477871,"created":"2018-01-29T18:06:32"},{"phone":380682508058,"created":"2018-01-29T18:06:32"},{"phone":380638095158,"created":"2018-02-01T17:36:48"},{"phone":12137877420,"created":"2018-05-21T17:43:38"},{"phone":380939105263,"created":"2018-08-06T08:51:43"},{"phone":380951740513,"created":"2018-08-08T11:53:51"},{"phone":380983311915,"created":"2018-07-04T07:47:28"},{"phone":85293010063,"created":"2018-02-28T01:31:01"},{"phone":380993661634,"created":"2018-01-29T18:06:32"},{"phone":8618666218050,"created":"2018-05-04T01:52:38"},{"phone":359884848,"created":"2018-08-02T17:02:08"}]}
    #
    # for i in s['Data']:
    #     value.append(str(i['phone']))
    # print(len(value))
    by_phone_f = (module,user_id,ref,field,type_r,value,status)
    by_phone = bert.encode(by_phone_f)
    # print('request: '+ str(time.time()).split('.')[0])
    print('='*5 + 'REQUEST' + '='*5 + '\r\n'+ str(by_phone_f)+'\r\n')
    return by_phone
